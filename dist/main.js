(()=>{"use strict";async function e(e,t){try{const n=await async function(e){try{const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=fe0d6601550dc3ccb9230eeb1ec7582c`,{mode:"cors"}),n=await t.json();return console.log(n.coord),n.coord}catch(e){console.log(e)}}(e),c=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${n.lat}&lon=${n.lon}&appid=fe0d6601550dc3ccb9230eeb1ec7582c&units=${t}`,{mode:"cors"}),o=await c.json(),a={city:o.name,weatherType:o.weather[0].description,temperature:o.main.temp,feelsLike:o.main.feels_like};console.log(a),function(e,t,n){const c=document.querySelector(".weather-display-container"),o=document.querySelector(".weather-display");o.innerHTML="",c.style.display="block";const a=document.createElement("h2");a.innerHTML=e,o.appendChild(a);const r=document.createElement("h3");r.innerHTML=t,o.appendChild(r);const i=document.createElement("h3");i.innerHTML=`${n}Â°`,o.appendChild(i)}(a.city,a.weatherType,a.temperature)}catch(e){console.log(e)}}let t,n="imperial";const c=document.querySelector("#form");c.onsubmit=o=>{o.preventDefault();const a=document.querySelector("#city").value;t=a,console.log(a),e(a,n),c.reset()};const o=document.querySelector(".change-units");o.onclick=()=>{"imperial"===n?(n="metric",e(t,n),o.innerHTML="Fahrenheit"):"metric"===n&&(n="imperial",e(t,n),o.innerHTML="Celsius")}})();